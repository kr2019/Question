{"ast":null,"code":"var _jsxFileName = \"/Users/kenneth/repos2/mtsaas/mtrepo/src/ReactCalendarBase.js\";\nimport React, { Component } from \"react\"; //import { render } from \"react-dom\";\n\nimport events from \"./events\";\nimport BigCalendar from \"react-big-calendar\";\nimport moment from \"moment\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport NewEventDialog from \"./newEventDialog\";\nimport NewEventDialog2 from \"./newEventDialog2\";\nimport ExistingEventDialog from \"./existingEventDialog\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport axios from \"axios\"; //tes\n\nconst localizer = BigCalendar.momentLocalizer(moment);\nconst propTypes = {};\n\nconst styles = theme => ({\n  state: {\n    open: false,\n    openV: false\n  },\n  root: {\n    padding: theme.spacing(10, 10),\n    height: \"100%\",\n    width: \"90%\"\n  }\n});\n\nclass ReactCalendarBase extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.convertDate = date => {\n      return moment.utc(date).toDate();\n    };\n\n    this.getDataFromDb = () => {\n      fetch(\"http://localhost:5000/events\").then(data => data.json()).then(res => this.setState({\n        data: res.data\n      }));\n    };\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.handleClickOpen2 = () => {\n      this.setState({\n        openV: true\n      });\n    };\n\n    this.handleClose2 = () => {\n      this.setState({\n        openV: false\n      });\n    };\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.state = {\n      cal_events: [//State is updated via componentDidMount\n      ]\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromDb();\n\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({\n        intervalIsSet: interval\n      });\n    }\n  } // never let a process live forever\n  // always kill a process everytime we are done using it\n\n\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({\n        intervalIsSet: null\n      });\n    }\n  } // just a note, here, in the front end, we use the id key of our data object\n  // in order to identify which we want to Update or delete.\n  // for our back end, we use the object id assigned by MongoDB to modify\n  // data base entries\n  // our first get method that uses our backend api to\n  // fetch data from our data base\n\n\n  render() {\n    const classes = this.props.classes; //const classes = withStyles();\n\n    const cal_events = this.state.cal_events;\n    return React.createElement(\"div\", {\n      style: {\n        height: 1000\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(BigCalendar, {\n      className: classes.root,\n      selectable: true,\n      localizer: localizer,\n      events: cal_events //events={events}\n      ,\n      views: [\"month\", \"week\", \"day\"],\n      defaultDate: new Date(2019, 3, 1),\n      onSelectEvent: this.handleClickOpen2,\n      onSelectSlot: this.handleClickOpen,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(Dialog, {\n      open: this.state.openV,\n      onClose: this.handleClose2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(ExistingEventDialog, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    })), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleClose2,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      onClick: this.handleClose2,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Save\"), React.createElement(Button, {\n      onClick: this.handleClose2,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Save & Next\"))), React.createElement(Dialog, {\n      open: this.state.open,\n      onClose: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(NewEventDialog2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })));\n  }\n\n}\n\nReactCalendarBase.propTypes = propTypes; //export default ReactCalendarBase;\n\nexport default withStyles(styles)(ReactCalendarBase);","map":{"version":3,"sources":["/Users/kenneth/repos2/mtsaas/mtrepo/src/ReactCalendarBase.js"],"names":["React","Component","events","BigCalendar","moment","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","Grid","withStyles","NewEventDialog","NewEventDialog2","ExistingEventDialog","axios","localizer","momentLocalizer","propTypes","styles","theme","state","open","openV","root","padding","spacing","height","width","ReactCalendarBase","constructor","args","convertDate","date","utc","toDate","getDataFromDb","fetch","then","data","json","res","setState","handleClickOpen","handleClose","handleClickOpen2","handleClose2","handleChange","name","event","target","value","cal_events","componentDidMount","intervalIsSet","interval","setInterval","componentWillUnmount","clearInterval","render","classes","props","Date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n//import { render } from \"react-dom\";\nimport events from \"./events\";\nimport BigCalendar from \"react-big-calendar\";\nimport moment from \"moment\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { withStyles } from \"@material-ui/core/styles\";\nimport NewEventDialog from \"./newEventDialog\";\nimport NewEventDialog2 from \"./newEventDialog2\";\nimport ExistingEventDialog from \"./existingEventDialog\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport axios from \"axios\";\n//tes\n\nconst localizer = BigCalendar.momentLocalizer(moment);\nconst propTypes = {};\n\nconst styles = theme => ({\n  state: {\n    open: false,\n    openV: false\n  },\n\n  root: {\n    padding: theme.spacing(10, 10),\n    height: \"100%\",\n    width: \"90%\"\n  }\n});\n\nclass ReactCalendarBase extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.state = {\n      cal_events: [\n        //State is updated via componentDidMount\n      ]\n    };\n  }\n\n  convertDate = date => {\n    return moment.utc(date).toDate();\n  };\n  componentDidMount() {\n    this.getDataFromDb();\n    if (!this.state.intervalIsSet) {\n      let interval = setInterval(this.getDataFromDb, 1000);\n      this.setState({ intervalIsSet: interval });\n    }\n  }\n\n  // never let a process live forever\n  // always kill a process everytime we are done using it\n  componentWillUnmount() {\n    if (this.state.intervalIsSet) {\n      clearInterval(this.state.intervalIsSet);\n      this.setState({ intervalIsSet: null });\n    }\n  }\n\n  // just a note, here, in the front end, we use the id key of our data object\n  // in order to identify which we want to Update or delete.\n  // for our back end, we use the object id assigned by MongoDB to modify\n  // data base entries\n\n  // our first get method that uses our backend api to\n  // fetch data from our data base\n  getDataFromDb = () => {\n    fetch(\"http://localhost:5000/events\")\n      .then(data => data.json())\n      .then(res => this.setState({ data: res.data }));\n  };\n\n  /* show new event dialog box */\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  /* close new event dialog box */\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  /* show existing event dialog box */\n  handleClickOpen2 = () => {\n    this.setState({ openV: true });\n  };\n\n  /* close existing event dialog box */\n  handleClose2 = () => {\n    this.setState({ openV: false });\n  };\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  render() {\n    const { classes } = this.props;\n    //const classes = withStyles();\n    const { cal_events } = this.state;\n\n    return (\n      <div style={{ height: 1000 }}>\n        <BigCalendar\n          className={classes.root}\n          selectable\n          localizer={localizer}\n          events={cal_events}\n          //events={events}\n          views={[\"month\", \"week\", \"day\"]}\n          defaultDate={new Date(2019, 3, 1)}\n          onSelectEvent={this.handleClickOpen2}\n          onSelectSlot={this.handleClickOpen}\n        />\n\n        {/* existing dialog */}\n        <Dialog open={this.state.openV} onClose={this.handleClose2}>\n          <DialogContent>\n            <ExistingEventDialog />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose2} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={this.handleClose2} color=\"primary\">\n              Save\n            </Button>\n            <Button onClick={this.handleClose2} color=\"primary\">\n              Save & Next\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Dialog open={this.state.open} onClose={this.handleClose}>\n          <NewEventDialog2 />\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nReactCalendarBase.propTypes = propTypes;\n\n//export default ReactCalendarBase;\nexport default withStyles(styles)(ReactCalendarBase);\n"]},"metadata":{},"sourceType":"module"}